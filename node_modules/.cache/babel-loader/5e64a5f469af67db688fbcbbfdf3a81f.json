{"ast":null,"code":"import _slicedToArray from\"/Users/justin/Desktop/react-wordpress-headless/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useEffect}from\"react\";import\"react-router-dom\";import{Helmet}from\"react-helmet\";// fetches  Page data from JSON (Located in public directory)\n// PageId is a slug that comes from Page.js function\nfunction FetchContent(_ref){var pageId=_ref.pageId;var _useState=useState(),_useState2=_slicedToArray(_useState,2),foundItem=_useState2[0],setFoundItem=_useState2[1];useEffect(function(){fetch(\"pages.json\",{headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\"}}).then(function(res){return res.json();}).then(function(json){var found=json.find(function(_ref2){var slug=_ref2.slug;return slug===pageId;});setFoundItem(found);});},[pageId]);if(!foundItem)return/*#__PURE__*/_jsx(\"div\",{className:\"404\"});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"meta\",{charSet:\"utf-8\"}),/*#__PURE__*/_jsx(\"title\",{children:foundItem.acf.seotitle&&foundItem.acf.seotitle?foundItem.acf.seotitle:''}),/*#__PURE__*/_jsx(\"meta\",{name:\"description\",content:foundItem.acf.seodescription&&foundItem.acf.seodescription?foundItem.acf.seodescription:''}),/*#__PURE__*/_jsx(\"meta\",{name:\"robots\",content:\"index, follow\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"canonical\",href:\"http://mysite.com/example\"})]}),/*#__PURE__*/_jsx(\"h1\",{children:foundItem.title&&foundItem.title.rendered?foundItem.title.rendered:''},foundItem.id),/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:foundItem.content.rendered}})]});}// catches pageId which is a state sent from Nav\n// sends pageId to FetchContent to grab the content for the page\nfunction Page(){var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),pageId=_useState4[0],setPageId=_useState4[1];var thisPage=window.location.pathname.slice(1);useEffect(function(){if(thisPage===\"\"||thisPage===\"react-wordpress-headless\"){setPageId('home');}else{setPageId(thisPage);}},[thisPage]);return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsx(FetchContent,{pageId:pageId})});}export default Page;","map":{"version":3,"sources":["/Users/justin/Desktop/react-wordpress-headless/src/Components/Pages/Page.js"],"names":["React","useState","useEffect","Helmet","FetchContent","pageId","foundItem","setFoundItem","fetch","headers","Accept","then","res","json","found","find","slug","acf","seotitle","seodescription","title","rendered","id","__html","content","Page","setPageId","thisPage","window","location","pathname","slice"],"mappings":"kTAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAiB,kBAAjB,CACA,OAAQC,MAAR,KAAqB,cAArB,CAIA;AACA;AAEA,QAASC,CAAAA,YAAT,MAAkC,IAAVC,CAAAA,MAAU,MAAVA,MAAU,eACAJ,QAAQ,EADR,wCAC3BK,SAD2B,eAChBC,YADgB,eAEhCL,SAAS,CAAC,UAAM,CACdM,KAAK,CAAC,YAAD,CAAe,CAClBC,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,MAAM,CAAE,kBAFD,CADS,CAAf,CAAL,CAMGC,IANH,CAMQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EANR,EAOGF,IAPH,CAOQ,SAACE,IAAD,CAAU,CACd,GAAMC,CAAAA,KAAK,CAAGD,IAAI,CAACE,IAAL,CAAU,mBAAEC,CAAAA,IAAF,OAAEA,IAAF,OAAaA,CAAAA,IAAI,GAAKX,MAAtB,EAAV,CAAd,CACAE,YAAY,CAACO,KAAD,CAAZ,CACD,CAVH,EAWD,CAZQ,CAYN,CAACT,MAAD,CAZM,CAAT,CAgBA,GAAI,CAACC,SAAL,CAAgB,mBAAO,YAAK,SAAS,CAAC,KAAf,EAAP,CAChB,mBACE,wCACA,MAAC,MAAD,yBACY,aAAM,OAAO,CAAC,OAAd,EADZ,cAEY,uBAAQA,SAAS,CAACW,GAAV,CAAcC,QAAd,EAA0BZ,SAAS,CAACW,GAAV,CAAcC,QAAxC,CAAmDZ,SAAS,CAACW,GAAV,CAAcC,QAAjE,CAA2E,EAAnF,EAFZ,cAGG,aAAM,IAAI,CAAC,aAAX,CAAyB,OAAO,CAAEZ,SAAS,CAACW,GAAV,CAAcE,cAAd,EAAgCb,SAAS,CAACW,GAAV,CAAcE,cAA9C,CAA+Db,SAAS,CAACW,GAAV,CAAcE,cAA7E,CAA6F,EAA/H,EAHH,cAIE,aAAM,IAAI,CAAC,QAAX,CAAoB,OAAO,CAAC,eAA5B,EAJF,cAKY,aAAM,GAAG,CAAC,WAAV,CAAsB,IAAI,CAAC,2BAA3B,EALZ,GADA,cASE,oBACAb,SAAS,CAACc,KAAV,EAAmBd,SAAS,CAACc,KAAV,CAAgBC,QAAnC,CAA8Cf,SAAS,CAACc,KAAV,CAAgBC,QAA9D,CAAwE,EADxE,EAASf,SAAS,CAACgB,EAAnB,CATF,cAaD,YAAK,uBAAuB,CAAE,CAACC,MAAM,CAAEjB,SAAS,CAACkB,OAAV,CAAkBH,QAA3B,CAA9B,EAbC,GADF,CAoBD,CAGD;AACA;AAEA,QAASI,CAAAA,IAAT,EAAgB,gBAEYxB,QAAQ,EAFpB,yCAETI,MAFS,eAEDqB,SAFC,eAIhB,GAAMC,CAAAA,QAAQ,CAAGC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAAyBC,KAAzB,CAA+B,CAA/B,CAAjB,CAGA7B,SAAS,CAAC,UAAM,CAEf,GAAIyB,QAAQ,GAAM,EAAf,EAAuBA,QAAQ,GAAM,0BAAxC,CAAqE,CACpED,SAAS,CAAC,MAAD,CAAT,CAGC,CAJF,IAIQ,CACPA,SAAS,CAACC,QAAD,CAAT,CAEA,CACD,CAVQ,CAUN,CAACA,QAAD,CAVM,CAAT,CAiBE,mBACE,YAAK,SAAS,CAAC,iBAAf,uBACE,KAAC,YAAD,EAAc,MAAM,CAAEtB,MAAtB,EADF,EADF,CAKD,CAED,cAAeoB,CAAAA,IAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {  } from \"react-router-dom\";\nimport {Helmet} from \"react-helmet\";\n\n\n\n// fetches  Page data from JSON (Located in public directory)\n// PageId is a slug that comes from Page.js function\n\nfunction FetchContent({ pageId }) {\nconst [foundItem, setFoundItem] = useState();\n  useEffect(() => {\n    fetch(\"pages.json\", {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      }\n    })\n      .then((res) => res.json())\n      .then((json) => {\n        const found = json.find(({slug}) => (slug === pageId ));\n        setFoundItem(found);\n      });\n  }, [pageId]);\n\n\n\t\n  if (!foundItem) return <div className=\"404\" />;\n  return (\n    <>\n\t   <Helmet>\n                <meta charSet=\"utf-8\" />\n                <title>{foundItem.acf.seotitle && foundItem.acf.seotitle ? foundItem.acf.seotitle: ''}</title>\n\t   \t\t\t<meta name=\"description\" content={foundItem.acf.seodescription && foundItem.acf.seodescription ? foundItem.acf.seodescription: ''} />\n\t  \t\t\t<meta name=\"robots\" content=\"index, follow\" />\n                <link rel=\"canonical\" href=\"http://mysite.com/example\" />\n            </Helmet>\n\t  \n      <h1 key={foundItem.id}>\n\t  \t\t{foundItem.title && foundItem.title.rendered ? foundItem.title.rendered: ''}\n\t  </h1>\n\t  \n\t  <div dangerouslySetInnerHTML={{__html: foundItem.content.rendered}}></div>\n\t  \n\n\t  \n    </>\n  );\n}\n\n\n// catches pageId which is a state sent from Nav\n// sends pageId to FetchContent to grab the content for the page\n\nfunction Page() {\n\nconst [pageId, setPageId] = useState();\n\nconst thisPage = window.location.pathname.slice(1);\t\n\t\n\t\nuseEffect(( )=> {\n\t\n\tif((thisPage  === \"\") || (thisPage  === \"react-wordpress-headless\") ){\n\t\tsetPageId('home');\n\t\n\t\t\t\n \t} else {\n\t\tsetPageId(thisPage);\n\t\t\n\t}\n}, [thisPage]);\n\t\n\t\n\n\t\n\t\n\t\n  return (\n    <div className=\"container-fluid\">\n      <FetchContent pageId={pageId} />\n    </div>\n  );\n}\n\nexport default Page;\n"]},"metadata":{},"sourceType":"module"}