{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/justin/Desktop/justinblayney/src/index.js\";\nimport React from 'react';\nimport { render } from 'react-dom';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'; // helper to check fetch status\n//import checkStatus from './etc/checkStatus';// Some of our example components \n//import Page from './Components/Page';\n//import Home from './Components/Home';\n//import About from './Components/About';\n//import NotFound from './Components/NotFound';\n//import Header from './Components/Header';\n\nconst siteURL = 'http://localhost:3000';\n\nconst getPages = () => {\n  return new Promise((resolve, reject) => {\n    const endpoint = `https://dev.justinblayney.com/wp-json/better-rest-endpoints/v1/pages?content=false&acf=false&media=false&per_page=99`;\n    fetch(endpoint) //  .then(checkStatus)\n    .then(response => response.json()).then(pages => {\n      resolve(pages);\n    }).catch(error => console.error(error));\n  });\n};\n\nconst identifyComponent = page => {\n  // this is where you map your template names to a component \n  const components = {\n    'home': Home,\n    'about': About\n  }; // check the template from the response \n\n  if (page.template !== 'default' && page.template) {\n    return components[page.template];\n  } else {\n    return Page;\n  }\n};\n\nclass AppInit {\n  // build the app and routes with page response\n  buildApp() {\n    async function buildRoutes() {\n      let pageList = await getPages();\n      render( /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Router, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Switch, {\n              children: [/*#__PURE__*/_jsxDEV(Route, {\n                path: \"/\",\n                render: props => /*#__PURE__*/_jsxDEV(Home, {\n                  siteURL: siteURL,\n                  ...props\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 50,\n                  columnNumber: 50\n                }, this),\n                exact: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 15\n              }, this), \"             \", pageList.map((page, i) => {\n                let Template = identifyComponent(page);\n                let pageID = page.id;\n                let parent = page.parent;\n                return /*#__PURE__*/_jsxDEV(Route, {\n                  path: `${parent ? '/' + parent : ''}/${page.slug}`,\n                  render: props => /*#__PURE__*/_jsxDEV(Template, {\n                    pageID: pageID,\n                    siteURL: siteURL,\n                    ...props\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 57,\n                    columnNumber: 40\n                  }, this),\n                  exact: true\n                }, pageID, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 54,\n                  columnNumber: 19\n                }, this);\n              }), /*#__PURE__*/_jsxDEV(Route, {\n                component: NotFound\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 16\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 13\n            }, this), \"           \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }, this), document.getElementById('root'));\n    }\n\n    buildRoutes();\n  }\n  /*\n  * Run the App\n  */\n\n\n  run() {\n    this.buildApp();\n  }\n\n}\n\nnew AppInit().run();","map":{"version":3,"sources":["/Users/justin/Desktop/justinblayney/src/index.js"],"names":["React","render","BrowserRouter","Router","Route","Switch","siteURL","getPages","Promise","resolve","reject","endpoint","fetch","then","response","json","pages","catch","error","console","identifyComponent","page","components","Home","About","template","Page","AppInit","buildApp","buildRoutes","pageList","props","map","i","Template","pageID","id","parent","slug","NotFound","document","getElementById","run"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {render} from 'react-dom';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch\n} from 'react-router-dom';// helper to check fetch status\n//import checkStatus from './etc/checkStatus';// Some of our example components \n//import Page from './Components/Page';\n//import Home from './Components/Home';\n//import About from './Components/About';\n//import NotFound from './Components/NotFound';\n//import Header from './Components/Header';\n\nconst siteURL = 'http://localhost:3000';const getPages = () => {\n  return new Promise((resolve, reject) => {\n    const endpoint = `https://dev.justinblayney.com/wp-json/better-rest-endpoints/v1/pages?content=false&acf=false&media=false&per_page=99`  \n\t\nfetch(endpoint)\n  //  .then(checkStatus)\n    .then(response => response.json())\n    .then(pages => {\n      resolve(pages);\n    })\n    .catch(error => console.error(error))\n  })\n}\n\nconst identifyComponent = (page) => {\n  // this is where you map your template names to a component \n  const components = {\n    'home': Home,\n    'about': About\n  }// check the template from the response \n if(page.template !== 'default' && page.template){\n   return components[page.template];\n } else {\n   return Page\n }\n}\n\nclass AppInit {// build the app and routes with page response\n  buildApp() {   async function buildRoutes (){\n     let pageList = await getPages();    render(\n      <div>\n        <Router>\n          <div>\n            <Header />\n            <Switch>\n              <Route path=\"/\" render={(props) => <Home siteURL={siteURL} {...props} />} exact />             {pageList.map( (page, i) => {\n                let Template = identifyComponent(page)\n                let pageID = page.id;\n                let parent = page.parent;                return(\n                  <Route\n                    key={pageID}\n                    path={`${parent ? '/'+parent :''}/${page.slug}`}\n                    render={(props) => <Template pageID={pageID} siteURL={siteURL} {...props} />}\n                    exact\n                  />\n                 )\n                })}\n               <Route component={NotFound} />\n             </Switch>           </div>\n          </Router>\n        </div>\n        , document.getElementById('root')\n      )\n    }    buildRoutes();\n  }/*\n * Run the App\n */\n run() {\n   this.buildApp();\n }}new AppInit().run();"]},"metadata":{},"sourceType":"module"}